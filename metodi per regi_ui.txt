from PyQt5.QtGui import QColor, QIcon
import regi_db
    ### IN QUESTO ORDINE!!!
        self.stackedWidget.setCurrentIndex(0)
        palette_preventivi = QtGui.QPalette()
        palette_preventivi.setColor(QtGui.QPalette.Background, QColor("#ccfff0"))
        self.groupBox.setPalette(palette_preventivi)
        self.tab_dettaglio_totale.setPalette(palette_preventivi)
        palette_clienti = QtGui.QPalette()
        palette_clienti.setColor(QtGui.QPalette.Background, QColor("#ccf0ff"))
        self.groupBox_2.setPalette(palette_clienti)
        self.pag_1.setPalette(palette_clienti)
        palette_progetti = QtGui.QPalette()
        palette_progetti.setColor(QtGui.QPalette.Background, QColor("#f0ffcc"))
        self.groupBox_3.setPalette(palette_progetti)
        self.tree_progetti.setPalette(palette_progetti)

        self.btn_nuovo_prev.clicked.connect(self.scegli_cliente)
        self.btn_view_anagrafica.clicked.connect(self.view_anagrafica)
        self.btn_scegli_cliente.clicked.connect(self.view_db_clienti)
# ...
    def view_db_clienti(self):
        self.stackedWidget.setCurrentIndex(2)
        query = regi_db.Cliente.select().dicts()
        for num_riga, cliente in enumerate(query):
            self.tab_clienti.insertRow(num_riga)
            for num_colonna, dato in enumerate(cliente.values()):
                if num_colonna == 0:
                    continue # evita la colonna id
                if dato == None:
                    dato = "Nessuno"
                self.tab_clienti.setItem(num_riga, num_colonna-1, QtWidgets.QTableWidgetItem(str(dato)))
    def view_anagrafica(self):
        self.view_db_clienti()
        self.label_2.enabled = False
        self.btn_scegli_cliente.enabled = False
    def crea_prev(self):
        pass
        # row = self.products_table.currentRow()
        # currentproductid = (self.products_table.item(row, 0).text() )
        # query = session.query(Product).filter(Product.product_id==str(currentproductid)).first()
        # session.delete(query)
        # session.commit()
        # self.products_table.removeRow(row)
### ALLA FINE:
    # reGI = QtWidgets.QMainWindow()
    reGI.setWindowTitle("reGI a0.3.0") # non funge
    reGI.setWindowIcon(QtGui.QIcon("icon_0.png")) # funge
    # sys.exit(app.exec_())
    regi_db.db.close()